import org.eclipse.jetty.server.Request;import org.eclipse.jetty.server.Server;import org.eclipse.jetty.server.handler.AbstractHandler;import org.eclipse.jetty.webapp.WebAppContext;import org.testng.annotations.Test;import javax.servlet.ServletException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;/** * Created with IntelliJ IDEA. * User: jicui * Date: 1/14/14 * Time: 7:25 PM * To change this template use File | Settings | File Templates. */public class EmbededJettyTests {     public static class HelloHandler extends AbstractHandler {         @Override         public void handle(String s, Request request, HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws IOException, ServletException {             httpServletResponse.setContentType("text/html;charset=utf-8");             httpServletResponse.setStatus(HttpServletResponse.SC_OK);             request.setHandled(true);             httpServletResponse.getWriter().println("<h1>Hello World</h1>");         }     }    @Test    public void testRunJettyServer(){        Server server = new Server(8080);        try {            WebAppContext context = new WebAppContext();            context.setDescriptor("/WEB-INF/web.xml");            context.setResourceBase("../test-jetty-webapp/src/main/webapp");            context.setContextPath("/");            context.setParentLoaderPriority(true);            server.setHandler(context);            server.start();            server.join();        } catch (Exception e) {            e.printStackTrace();        }    }}